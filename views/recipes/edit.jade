extends ../layout

block content
  .angular(ng-controller="RecipeCtrl")
    h1= recipe.name
    p= recipe._id
    form.form-inline(role="form")
      div.form-group
        label.sr-only(for="ingredient") Ingredient Name
        input.form-control(type="text",placeholder="Enter Ingredient Name",type-ahead)

    div.row
      div.col-md-8
        table.table.table-bordered.table-striped
          tr
            th Qty
            th Measure
            th Ingredient
            th Cal
            th &nbsp;
          //- tr.success
          //-   td 
          //-     input(type="text",value="1",size="2")
          //-   td 
          //-     select
          //-       option cup
          //-       option tbsp
          //-   td Celery, raw 
          //-   td Y   
          //-   td 
          //-     button.btn.btn-default(type="submit") Save

          tr(ng-repeat="ing in recipe.ingredients")
            td 
              input(type="text",size="2",value="1")
              select(ng-options="fraction for fraction in fractions",
                     ng-model="ing.meta.qty")
                option(value="") -
            td 
              select(ng-options="measurement.name for measurement in measurements",
                     ng-model="ing.meta.unit")
                option(value="") -- unit --
            td {{ing.item_name}}
            td {{ing.nf_calories}}
            td [x]
    a(href="/recipes")
      button.btn.btn-primary Back to Recipes
  script.
    var recipe = !{JSON.stringify(recipe)};
    var fractions = !{JSON.stringify(fractions)};
    var measurements = !{JSON.stringify(measurements)};